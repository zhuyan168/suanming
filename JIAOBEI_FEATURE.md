# 掷筊占卜功能说明

## 📁 文件结构

```
pages/
├── index.js                           # 主页 (已更新，添加了掷筊按钮跳转)
├── divination/
│   └── jiaobei/
│       ├── index.tsx                  # 掷筊详情页
│       └── result.tsx                 # 占卜结果页
tsconfig.json                          # TypeScript 配置
```

## 🎯 功能特性

### 1. 掷筊详情页 (`/divination/jiaobei`)

**视觉效果：**
- 顶部显示传统掷筊文化介绍
- 中央展示两块筊杯（使用渐变色半圆形表示）
- 底部放置"开始掷筊"按钮
- 背景添加紫色光晕效果

**交互逻辑：**
- 点击"开始掷筊"按钮后：
  - 按钮禁用，显示"掷筊中..."
  - 两块筊杯开始旋转动画（2秒）
  - 筊杯同时进行抖动效果
- 动画结束后：
  - 随机生成结果（圣筊/阴筊/笑筊）
  - 自动跳转到结果页

**结果判定规则：**
- **圣筊**：一正一反（任意顺序）
- **笑筊**：两反
- **阴筊**：两正

### 2. 结果页 (`/divination/jiaobei/result`)

**三种结果展示：**

| 结果类型 | 图标 | 颜色 | 说明 |
|---------|------|------|------|
| 圣筊 | 🌕🌑 | 绿色 | 此事可行，顺势而为 |
| 阴筊 | 🌕🌕 | 红色 | 暂缓行事，宜再思量 |
| 笑筊 | 🌑🌑 | 橙色 | 神明含笑未答，再问一次吧 |

**视觉效果：**
- 淡入 + 缩放动画进场
- 结果卡片带有对应颜色的渐变背景
- 脉冲光晕效果
- Emoji 图标呼吸动画

**操作按钮：**
- **再掷一次**：返回掷筊页面重新占卜
- **返回首页**：跳转到网站首页

### 3. 主页更新

在主页的"是否占卜 (Fortune Telling)"模块中：
- **塔罗占卜**按钮：打开塔罗占卜弹窗（原有功能）
- **掷筊占卜**按钮：跳转到 `/divination/jiaobei` 页面（新功能）

## 🎨 设计规范

### 颜色系统
- **主色**：`#7f13ec` (紫色)
- **背景**：`#191022` (深紫黑)
- **圣筊**：`#10b981` (绿色)
- **阴筊**：`#ef4444` (红色)
- **笑筊**：`#f59e0b` (琥珀色)

### 字体
- **主字体**：Spline Sans

### 动画效果
- **掷筊动画**：2秒旋转 + 抖动
- **结果页进场**：0.6秒淡入缩放
- **光晕脉冲**：2秒循环

## 🚀 使用方式

### 启动开发服务器

```bash
npm run dev
```

访问 `http://localhost:3000`

### 测试流程

1. 打开主页
2. 点击"掷筊占卜 (Moon Blocks)"按钮
3. 在掷筊页面，心中默念问题后点击"开始掷筊"
4. 等待动画完成
5. 查看占卜结果
6. 可选择"再掷一次"或"返回首页"

## 📦 技术栈

- **框架**：Next.js (Pages Router)
- **语言**：TypeScript + JavaScript
- **样式**：Tailwind CSS (通过 CDN)
- **路由**：Next.js Router
- **动画**：CSS Animations

## 🔧 技术实现细节

### 1. 随机结果生成

```typescript
const firstFaceUp = Math.random() > 0.5;
const secondFaceUp = Math.random() > 0.5;

if (firstFaceUp !== secondFaceUp) {
  result = 'sheng'; // 圣筊
} else if (!firstFaceUp && !secondFaceUp) {
  result = 'xiao'; // 笑筊
} else {
  result = 'yin'; // 阴筊
}
```

### 2. 动画实现

- **旋转**：使用 CSS `transform: rotate()`
- **抖动**：使用 CSS `@keyframes shake`
- **淡入**：使用 CSS `opacity` + `transform: scale()`

### 3. 路由传参

结果页通过 URL 参数接收结果类型：
```
/divination/jiaobei/result?type=sheng
```

## 🎯 响应式设计

- **移动端** (< 640px)：单列布局，调整字体和间距
- **平板** (640px - 1024px)：适中布局
- **桌面** (> 1024px)：宽松布局，最大宽度限制

## 🔮 未来扩展

可能的功能扩展方向：
- 记录占卜历史
- 分享结果到社交媒体
- 添加音效反馈
- 支持自定义问题保存
- 添加更多占卜方式

## 📝 注意事项

- 所有逻辑在前端完成，不调用任何 API
- 结果完全随机，仅供娱乐参考
- 保持与原网站 UI 风格一致
- 所有页面支持响应式布局

---

✨ **享受你的掷筊占卜体验！**

